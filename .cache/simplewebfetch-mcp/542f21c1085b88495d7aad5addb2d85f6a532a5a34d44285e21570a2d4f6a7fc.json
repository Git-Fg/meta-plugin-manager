{
  "url": "https://code.claude.com/docs/en/skills",
  "markdown": "# Extend Claude with skills - Claude Code Docs\n[Skip to main content](#content-area)\n[Claude Code Docs home page![light logo](https://mintcdn.com/claude-code/o69F7a6qoW9vboof/logo/light.svg?fit=max&auto=format&n=o69F7a6qoW9vboof&q=85&s=536eade682636e84231afce2577f9509)![dark logo](https://mintcdn.com/claude-code/o69F7a6qoW9vboof/logo/dark.svg?fit=max&auto=format&n=o69F7a6qoW9vboof&q=85&s=0766b3221061e80143e9f300733e640b)](https://code.claude.com/docs)\n![US](https://d3gk2c5xim1je2.cloudfront.net/flags/US.svg)\nEnglish\nSearch...\n‚åòKAsk AI\n-   [Claude Developer Platform](https://platform.claude.com/)\n-   [Claude Code on the Web](https://claude.ai/code)\n-   [\n    Claude Code on the Web\n    ](https://claude.ai/code)\nSearch...\nNavigation\nBuild with Claude Code\nExtend Claude with skills\n[Getting started\n](https://code.claude.com/docs/en/overview)[Build with Claude Code\n](https://code.claude.com/docs/en/sub-agents)[Deployment\n](https://code.claude.com/docs/en/third-party-integrations)[Administration\n](https://code.claude.com/docs/en/setup)[Configuration\n](https://code.claude.com/docs/en/settings)[Reference\n](https://code.claude.com/docs/en/cli-reference)[Resources\n](https://code.claude.com/docs/en/legal-and-compliance)\n##### Build with Claude Code\n-   [\n    Create custom subagents\n    ](https://code.claude.com/docs/en/sub-agents)\n-   [\n    Create plugins\n    ](https://code.claude.com/docs/en/plugins)\n-   [\n    Discover and install prebuilt plugins\n    ](https://code.claude.com/docs/en/discover-plugins)\n-   [\n    Extend Claude with skills\n    ](https://code.claude.com/docs/en/skills)\n-   [\n    Output styles\n    ](https://code.claude.com/docs/en/output-styles)\n-   [\n    Hooks\n    ](https://code.claude.com/docs/en/hooks-guide)\n-   [\n    Programmatic usage\n    ](https://code.claude.com/docs/en/headless)\n-   [\n    Model Context Protocol (MCP)\n    ](https://code.claude.com/docs/en/mcp)\n-   [\n    Troubleshooting\n    ](https://code.claude.com/docs/en/troubleshooting)\nOn this page\n-   [Getting started](#getting-started)\n-   [Create your first skill](#create-your-first-skill)\n-   [Where skills live](#where-skills-live)\n-   [Automatic discovery from nested directories](#automatic-discovery-from-nested-directories)\n-   [Configure skills](#configure-skills)\n-   [Types of skill content](#types-of-skill-content)\n-   [Frontmatter reference](#frontmatter-reference)\n-   [Available string substitutions](#available-string-substitutions)\n-   [Add supporting files](#add-supporting-files)\n-   [Control who invokes a skill](#control-who-invokes-a-skill)\n-   [Restrict tool access](#restrict-tool-access)\n-   [Pass arguments to skills](#pass-arguments-to-skills)\n-   [Advanced patterns](#advanced-patterns)\n-   [Inject dynamic context](#inject-dynamic-context)\n-   [Run skills in a subagent](#run-skills-in-a-subagent)\n-   [Example: Research skill using Explore agent](#example%3A-research-skill-using-explore-agent)\n-   [Restrict Claude‚Äôs skill access](#restrict-claude%E2%80%99s-skill-access)\n-   [Share skills](#share-skills)\n-   [Generate visual output](#generate-visual-output)\n-   [Troubleshooting](#troubleshooting)\n-   [Skill not triggering](#skill-not-triggering)\n-   [Skill triggers too often](#skill-triggers-too-often)\n-   [Claude doesn‚Äôt see all my skills](#claude-doesn%E2%80%99t-see-all-my-skills)\n-   [Related resources](#related-resources)\nBuild with Claude Code\n# Extend Claude with skills\nCopy page\nCreate, manage, and share skills to extend Claude‚Äôs capabilities in Claude Code. Includes custom slash commands.\nCopy page\nSkills extend what Claude can do. Create a `SKILL.md` file with instructions, and Claude adds it to its toolkit. Claude uses skills when relevant, or you can invoke one directly with `/skill-name`.\nFor built-in commands like `/help` and `/compact`, see [interactive mode](https://code.claude.com/docs/en/interactive-mode#built-in-commands).**Custom slash commands have been merged into skills.** A file at `.claude/commands/review.md` and a skill at `.claude/skills/review/SKILL.md` both create `/review` and work the same way. Your existing `.claude/commands/` files keep working. Skills add optional features: a directory for supporting files, frontmatter to [control whether you or Claude invokes them](#control-who-invokes-a-skill), and the ability for Claude to load them automatically when relevant.\nClaude Code skills follow the [Agent Skills](https://agentskills.io) open standard, which works across multiple AI tools. Claude Code extends the standard with additional features like [invocation control](#control-who-invokes-a-skill), [subagent execution](#run-skills-in-a-subagent), and [dynamic context injection](#inject-dynamic-context).\n##\n[‚Äã\n](#getting-started)\nGetting started\n###\n[‚Äã\n](#create-your-first-skill)\nCreate your first skill\nThis example creates a skill that teaches Claude to explain code using visual diagrams and analogies. Since it uses default frontmatter, Claude can load it automatically when you ask how something works, or you can invoke it directly with `/explain-code`.\n1\nCreate the skill directory\nCreate a directory for the skill in your personal skills folder. Personal skills are available across all your projects.\nCopy\nAsk AI\n```\nmkdir -p ~/.claude/skills/explain-code\n```\n2\nWrite SKILL.md\nEvery skill needs a `SKILL.md` file with two parts: YAML frontmatter (between `---` markers) that tells Claude when to use the skill, and markdown content with instructions Claude follows when the skill is invoked. The `name` field becomes the `/slash-command`, and the `description` helps Claude decide when to load it automatically.Create `~/.claude/skills/explain-code/SKILL.md`:\nCopy\nAsk AI\n```\n---\nname: explain-code\ndescription: Explains code with visual diagrams and analogies. Use when explaining how code works, teaching about a codebase, or when the user asks \"how does this work?\"\n---\nWhen explaining code, always include:\n1. **Start with an analogy**: Compare the code to something from everyday life\n2. **Draw a diagram**: Use ASCII art to show the flow, structure, or relationships\n3. **Walk through the code**: Explain step-by-step what happens\n4. **Highlight a gotcha**: What's a common mistake or misconception?\nKeep explanations conversational. For complex concepts, use multiple analogies.\n```\n3\nTest the skill\nYou can test it two ways:**Let Claude invoke it automatically** by asking something that matches the description:\nCopy\nAsk AI\n```\nHow does this code work?\n```\n**Or invoke it directly** with the skill name:\nCopy\nAsk AI\n```\n/explain-code src/auth/login.ts\n```\nEither way, Claude should include an analogy and ASCII diagram in its explanation.\n###\n[‚Äã\n](#where-skills-live)\nWhere skills live\nWhere you store a skill determines who can use it:\n| Location | Path | Applies to |\n| --- | --- | --- |\n| Enterprise | See [managed settings](https://code.claude.com/docs/en/iam#managed-settings) | All users in your organization |\n| Personal | `~/.claude/skills/<skill-name>/SKILL.md` | All your projects |\n| Project | `.claude/skills/<skill-name>/SKILL.md` | This project only |\n| Plugin | `<plugin>/skills/<skill-name>/SKILL.md` | Where plugin is enabled |\nWhen skills share the same name across levels, higher-priority locations win: enterprise > personal > project. Plugin skills use a `plugin-name:skill-name` namespace, so they cannot conflict with other levels. If you have files in `.claude/commands/`, those work the same way, but if a skill and a command share the same name, the skill takes precedence.\n####\n[‚Äã\n](#automatic-discovery-from-nested-directories)\nAutomatic discovery from nested directories\nWhen you work with files in subdirectories, Claude Code automatically discovers skills from nested `.claude/skills/` directories. For example, if you‚Äôre editing a file in `packages/frontend/`, Claude Code also looks for skills in `packages/frontend/.claude/skills/`. This supports monorepo setups where packages have their own skills. Each skill is a directory with `SKILL.md` as the entrypoint:\nCopy\nAsk AI\n```\nmy-skill/\n‚îú‚îÄ‚îÄ SKILL.md           # Main instructions (required)\n‚îú‚îÄ‚îÄ template.md        # Template for Claude to fill in\n‚îú‚îÄ‚îÄ examples/\n‚îÇ   ‚îî‚îÄ‚îÄ sample.md      # Example output showing expected format\n‚îî‚îÄ‚îÄ scripts/\n    ‚îî‚îÄ‚îÄ validate.sh    # Script Claude can execute\n```\nThe `SKILL.md` contains the main instructions and is required. Other files are optional and let you build more powerful skills: templates for Claude to fill in, example outputs showing the expected format, scripts Claude can execute, or detailed reference documentation. Reference these files from your `SKILL.md` so Claude knows what they contain and when to load them. See [Add supporting files](#add-supporting-files) for more details.\nFiles in `.claude/commands/` still work and support the same [frontmatter](#frontmatter-reference). Skills are recommended since they support additional features like supporting files.\n##\n[‚Äã\n](#configure-skills)\nConfigure skills\nSkills are configured through YAML frontmatter at the top of `SKILL.md` and the markdown content that follows.\n###\n[‚Äã\n](#types-of-skill-content)\nTypes of skill content\nSkill files can contain any instructions, but thinking about how you want to invoke them helps guide what to include: **Reference content** adds knowledge Claude applies to your current work. Conventions, patterns, style guides, domain knowledge. This content runs inline so Claude can use it alongside your conversation context.\nCopy\nAsk AI\n```\n---\nname: api-conventions\ndescription: API design patterns for this codebase\n---\nWhen writing API endpoints:\n- Use RESTful naming conventions\n- Return consistent error formats\n- Include request validation\n```\n**Task content** gives Claude step-by-step instructions for a specific action, like deployments, commits, or code generation. These are often actions you want to invoke directly with `/skill-name` rather than letting Claude decide when to run them. Add `disable-model-invocation: true` to prevent Claude from triggering it automatically.\nCopy\nAsk AI\n```\n---\nname: deploy\ndescription: Deploy the application to production\ncontext: fork\ndisable-model-invocation: true\n---\nDeploy the application:\n1. Run the test suite\n2. Build the application\n3. Push to the deployment target\n```\nYour `SKILL.md` can contain anything, but thinking through how you want the skill invoked (by you, by Claude, or both) and where you want it to run (inline or in a subagent) helps guide what to include. For complex skills, you can also [add supporting files](#add-supporting-files) to keep the main skill focused.\n###\n[‚Äã\n](#frontmatter-reference)\nFrontmatter reference\nBeyond the markdown content, you can configure skill behavior using YAML frontmatter fields between `---` markers at the top of your `SKILL.md` file:\nCopy\nAsk AI\n```\n---\nname: my-skill\ndescription: What this skill does\ndisable-model-invocation: true\nallowed-tools: Read, Grep\n---\nYour skill instructions here...\n```\nAll fields are optional. Only `description` is recommended so Claude knows when to use the skill.\n| Field | Required | Description |\n| --- | --- | --- |\n| `name` | No | Display name for the skill. If omitted, uses the directory name. Lowercase letters, numbers, and hyphens only (max 64 characters). |\n| `description` | Recommended | What the skill does and when to use it. Claude uses this to decide when to apply the skill. If omitted, uses the first paragraph of markdown content. |\n| `argument-hint` | No | Hint shown during autocomplete to indicate expected arguments. Example: `[issue-number]` or `[filename] [format]`. |\n| `disable-model-invocation` | No | Set to `true` to prevent Claude from automatically loading this skill. Use for workflows you want to trigger manually with `/name`. Default: `false`. |\n| `user-invocable` | No | Set to `false` to hide from the `/` menu. Use for background knowledge users shouldn‚Äôt invoke directly. Default: `true`. |\n| `allowed-tools` | No | Tools Claude can use without asking permission when this skill is active. |\n| `model` | No | Model to use when this skill is active. |\n| `context` | No | Set to `fork` to run in a forked subagent context. |\n| `agent` | No | Which subagent type to use when `context: fork` is set. |\n| `hooks` | No | Hooks scoped to this skill‚Äôs lifecycle. See [Hooks](https://code.claude.com/docs/en/hooks) for configuration format. |\n####\n[‚Äã\n](#available-string-substitutions)\nAvailable string substitutions\nSkills support string substitution for dynamic values in the skill content:\n| Variable | Description |\n| --- | --- |\n| `$ARGUMENTS` | All arguments passed when invoking the skill. If `$ARGUMENTS` is not present in the content, arguments are appended as `ARGUMENTS: <value>`. |\n| `${CLAUDE_SESSION_ID}` | The current session ID. Useful for logging, creating session-specific files, or correlating skill output with sessions. |\n**Example using substitutions:**\nCopy\nAsk AI\n```\n---\nname: session-logger\ndescription: Log activity for this session\n---\nLog the following to logs/${CLAUDE_SESSION_ID}.log:\n$ARGUMENTS\n```\n###\n[‚Äã\n](#add-supporting-files)\nAdd supporting files\nSkills can include multiple files in their directory. This keeps `SKILL.md` focused on the essentials while letting Claude access detailed reference material only when needed. Large reference docs, API specifications, or example collections don‚Äôt need to load into context every time the skill runs.\nCopy\nAsk AI\n```\nmy-skill/\n‚îú‚îÄ‚îÄ SKILL.md (required - overview and navigation)\n‚îú‚îÄ‚îÄ reference.md (detailed API docs - loaded when needed)\n‚îú‚îÄ‚îÄ examples.md (usage examples - loaded when needed)\n‚îî‚îÄ‚îÄ scripts/\n    ‚îî‚îÄ‚îÄ helper.py (utility script - executed, not loaded)\n```\nReference supporting files from `SKILL.md` so Claude knows what each file contains and when to load it:\nCopy\nAsk AI\n```\n## Additional resources\n- For complete API details, see [reference.md](reference.md)\n- For usage examples, see [examples.md](examples.md)\n```\nKeep `SKILL.md` under 500 lines. Move detailed reference material to separate files.\n###\n[‚Äã\n](#control-who-invokes-a-skill)\nControl who invokes a skill\nBy default, both you and Claude can invoke any skill. You can type `/skill-name` to invoke it directly, and Claude can load it automatically when relevant to your conversation. Two frontmatter fields let you restrict this:\n-   **`disable-model-invocation: true`**: Only you can invoke the skill. Use this for workflows with side effects or that you want to control timing, like `/commit`, `/deploy`, or `/send-slack-message`. You don‚Äôt want Claude deciding to deploy because your code looks ready.\n-   **`user-invocable: false`**: Only Claude can invoke the skill. Use this for background knowledge that isn‚Äôt actionable as a command. A `legacy-system-context` skill explains how an old system works. Claude should know this when relevant, but `/legacy-system-context` isn‚Äôt a meaningful action for users to take.\nThis example creates a deploy skill that only you can trigger. The `disable-model-invocation: true` field prevents Claude from running it automatically:\nCopy\nAsk AI\n```\n---\nname: deploy\ndescription: Deploy the application to production\ndisable-model-invocation: true\n---\nDeploy $ARGUMENTS to production:\n1. Run the test suite\n2. Build the application\n3. Push to the deployment target\n4. Verify the deployment succeeded\n```\nHere‚Äôs how the two fields affect invocation and context loading:\n| Frontmatter | You can invoke | Claude can invoke | When loaded into context |\n| --- | --- | --- | --- |\n| (default) | Yes | Yes | Description always in context, full skill loads when invoked |\n| `disable-model-invocation: true` | Yes | No | Description not in context, full skill loads when you invoke |\n| `user-invocable: false` | No | Yes | Description always in context, full skill loads when invoked |\nIn a regular session, skill descriptions are loaded into context so Claude knows what‚Äôs available, but full skill content only loads when invoked. [Subagents with preloaded skills](https://code.claude.com/docs/en/sub-agents#preload-skills-into-subagents) work differently: the full skill content is injected at startup.\n###\n[‚Äã\n](#restrict-tool-access)\nRestrict tool access\nUse the `allowed-tools` field to limit which tools Claude can use when a skill is active. This skill creates a read-only mode where Claude can explore files but not modify them:\nCopy\nAsk AI\n```\n---\nname: safe-reader\ndescription: Read files without making changes\nallowed-tools: Read, Grep, Glob\n---\n```\n###\n[‚Äã\n](#pass-arguments-to-skills)\nPass arguments to skills\nBoth you and Claude can pass arguments when invoking a skill. Arguments are available via the `$ARGUMENTS` placeholder. This skill fixes a GitHub issue by number. The `$ARGUMENTS` placeholder gets replaced with whatever follows the skill name:\nCopy\nAsk AI\n```\n---\nname: fix-issue\ndescription: Fix a GitHub issue\ndisable-model-invocation: true\n---\nFix GitHub issue $ARGUMENTS following our coding standards.\n1. Read the issue description\n2. Understand the requirements\n3. Implement the fix\n4. Write tests\n5. Create a commit\n```\nWhen you run `/fix-issue 123`, Claude receives ‚ÄúFix GitHub issue 123 following our coding standards‚Ä¶‚Äù If you invoke a skill with arguments but the skill doesn‚Äôt include `$ARGUMENTS`, Claude Code appends `ARGUMENTS: <your input>` to the end of the skill content so Claude still sees what you typed.\n##\n[‚Äã\n](#advanced-patterns)\nAdvanced patterns\n###\n[‚Äã\n](#inject-dynamic-context)\nInject dynamic context\nThe `!`command‚Äú syntax runs shell commands before the skill content is sent to Claude. The command output replaces the placeholder, so Claude receives actual data, not the command itself. This skill summarizes a pull request by fetching live PR data with the GitHub CLI. The `!`gh pr diff‚Äú and other commands run first, and their output gets inserted into the prompt:\nCopy\nAsk AI\n```\n---\nname: pr-summary\ndescription: Summarize changes in a pull request\ncontext: fork\nagent: Explore\nallowed-tools: Bash(gh:*)\n---\n## Pull request context\n- PR diff: !`gh pr diff`\n- PR comments: !`gh pr view --comments`\n- Changed files: !`gh pr diff --name-only`\n## Your task\nSummarize this pull request...\n```\nWhen this skill runs:\n1.  Each `!`command‚Äú executes immediately (before Claude sees anything)\n2.  The output replaces the placeholder in the skill content\n3.  Claude receives the fully-rendered prompt with actual PR data\nThis is preprocessing, not something Claude executes. Claude only sees the final result.\nTo enable [extended thinking](https://code.claude.com/docs/en/common-workflows#use-extended-thinking-thinking-mode) in a skill, include the word ‚Äúultrathink‚Äù anywhere in your skill content.\n###\n[‚Äã\n](#run-skills-in-a-subagent)\nRun skills in a subagent\nAdd `context: fork` to your frontmatter when you want a skill to run in isolation. The skill content becomes the prompt that drives the subagent. It won‚Äôt have access to your conversation history.\n`context: fork` only makes sense for skills with explicit instructions. If your skill contains guidelines like ‚Äúuse these API conventions‚Äù without a task, the subagent receives the guidelines but no actionable prompt, and returns without meaningful output.\nSkills and [subagents](https://code.claude.com/docs/en/sub-agents) work together in two directions:\n| Approach | System prompt | Task | Also loads |\n| --- | --- | --- | --- |\n| Skill with `context: fork` | From agent type (`Explore`, `Plan`, etc.) | SKILL.md content | CLAUDE.md |\n| Subagent with `skills` field | Subagent‚Äôs markdown body | Claude‚Äôs delegation message | Preloaded skills + CLAUDE.md |\nWith `context: fork`, you write the task in your skill and pick an agent type to execute it. For the inverse (defining a custom subagent that uses skills as reference material), see [Subagents](https://code.claude.com/docs/en/sub-agents#preload-skills-into-subagents).\n####\n[‚Äã\n](#example:-research-skill-using-explore-agent)\nExample: Research skill using Explore agent\nThis skill runs research in a forked Explore agent. The skill content becomes the task, and the agent provides read-only tools optimized for codebase exploration:\nCopy\nAsk AI\n```\n---\nname: deep-research\ndescription: Research a topic thoroughly\ncontext: fork\nagent: Explore\n---\nResearch $ARGUMENTS thoroughly:\n1. Find relevant files using Glob and Grep\n2. Read and analyze the code\n3. Summarize findings with specific file references\n```\nWhen this skill runs:\n1.  A new isolated context is created\n2.  The subagent receives the skill content as its prompt (‚ÄúResearch $ARGUMENTS thoroughly‚Ä¶‚Äù)\n3.  The `agent` field determines the execution environment (model, tools, and permissions)\n4.  Results are summarized and returned to your main conversation\nThe `agent` field specifies which subagent configuration to use. Options include built-in agents (`Explore`, `Plan`, `general-purpose`) or any custom subagent from `.claude/agents/`. If omitted, uses `general-purpose`.\n###\n[‚Äã\n](#restrict-claude‚Äôs-skill-access)\nRestrict Claude‚Äôs skill access\nBy default, Claude can invoke any skill that doesn‚Äôt have `disable-model-invocation: true` set. Built-in commands like `/compact` and `/init` are not available through the Skill tool. Three ways to control which skills Claude can invoke: **Disable all skills** by denying the Skill tool in `/permissions`:\nCopy\nAsk AI\n```\n# Add to deny rules:\nSkill\n```\n**Allow or deny specific skills** using [permission rules](https://code.claude.com/docs/en/iam):\nCopy\nAsk AI\n```\n# Allow only specific skills\nSkill(commit)\nSkill(review-pr:*)\n# Deny specific skills\nSkill(deploy:*)\n```\nPermission syntax: `Skill(name)` for exact match, `Skill(name:*)` for prefix match with any arguments. **Hide individual skills** by adding `disable-model-invocation: true` to their frontmatter. This removes the skill from Claude‚Äôs context entirely.\nThe `user-invocable` field only controls menu visibility, not Skill tool access. Use `disable-model-invocation: true` to block programmatic invocation.\n##\n[‚Äã\n](#share-skills)\nShare skills\nSkills can be distributed at different scopes depending on your audience:\n-   **Project skills**: Commit `.claude/skills/` to version control\n-   **Plugins**: Create a `skills/` directory in your [plugin](https://code.claude.com/docs/en/plugins)\n-   **Managed**: Deploy organization-wide through [managed settings](https://code.claude.com/docs/en/iam#managed-settings)\n###\n[‚Äã\n](#generate-visual-output)\nGenerate visual output\nSkills can bundle and run scripts in any language, giving Claude capabilities beyond what‚Äôs possible in a single prompt. One powerful pattern is generating visual output: interactive HTML files that open in your browser for exploring data, debugging, or creating reports. This example creates a codebase explorer: an interactive tree view where you can expand and collapse directories, see file sizes at a glance, and identify file types by color. Create the Skill directory:\nCopy\nAsk AI\n```\nmkdir -p ~/.claude/skills/codebase-visualizer/scripts\n```\nCreate `~/.claude/skills/codebase-visualizer/SKILL.md`. The description tells Claude when to activate this Skill, and the instructions tell Claude to run the bundled script:\nCopy\nAsk AI\n````\n---\nname: codebase-visualizer\ndescription: Generate an interactive collapsible tree visualization of your codebase. Use when exploring a new repo, understanding project structure, or identifying large files.\nallowed-tools: Bash(python:*)\n---\n# Codebase Visualizer\nGenerate an interactive HTML tree view that shows your project's file structure with collapsible directories.\n## Usage\nRun the visualization script from your project root:\n```bash\npython ~/.claude/skills/codebase-visualizer/scripts/visualize.py .\n```\nThis creates `codebase-map.html` in the current directory and opens it in your default browser.\n## What the visualization shows\n- **Collapsible directories**: Click folders to expand/collapse\n- **File sizes**: Displayed next to each file\n- **Colors**: Different colors for different file types\n- **Directory totals**: Shows aggregate size of each folder\n````\nCreate `~/.claude/skills/codebase-visualizer/scripts/visualize.py`. This script scans a directory tree and generates a self-contained HTML file with:\n-   A **summary sidebar** showing file count, directory count, total size, and number of file types\n-   A **bar chart** breaking down the codebase by file type (top 8 by size)\n-   A **collapsible tree** where you can expand and collapse directories, with color-coded file type indicators\nThe script requires Python but uses only built-in libraries, so there are no packages to install:\nCopy\nAsk AI\n```\n#!/usr/bin/env python3\n\"\"\"Generate an interactive collapsible tree visualization of a codebase.\"\"\"\nimport json\nimport sys\nimport webbrowser\nfrom pathlib import Path\nfrom collections import Counter\nIGNORE = {'.git', 'node_modules', '__pycache__', '.venv', 'venv', 'dist', 'build'}\ndef scan(path: Path, stats: dict) -> dict:\n    result = {\"name\": path.name, \"children\": [], \"size\": 0}\n    try:\n        for item in sorted(path.iterdir()):\n            if item.name in IGNORE or item.name.startswith('.'):\n                continue\n            if item.is_file():\n                size = item.stat().st_size\n                ext = item.suffix.lower() or '(no ext)'\n                result[\"children\"].append({\"name\": item.name, \"size\": size, \"ext\": ext})\n                result[\"size\"] += size\n                stats[\"files\"] += 1\n                stats[\"extensions\"][ext] += 1\n                stats[\"ext_sizes\"][ext] += size\n            elif item.is_dir():\n                stats[\"dirs\"] += 1\n                child = scan(item, stats)\n                if child[\"children\"]:\n                    result[\"children\"].append(child)\n                    result[\"size\"] += child[\"size\"]\n    except PermissionError:\n        pass\n    return result\ndef generate_html(data: dict, stats: dict, output: Path) -> None:\n    ext_sizes = stats[\"ext_sizes\"]\n    total_size = sum(ext_sizes.values()) or 1\n    sorted_exts = sorted(ext_sizes.items(), key=lambda x: -x[1])[:8]\n    colors = {\n        '.js': '#f7df1e', '.ts': '#3178c6', '.py': '#3776ab', '.go': '#00add8',\n        '.rs': '#dea584', '.rb': '#cc342d', '.css': '#264de4', '.html': '#e34c26',\n        '.json': '#6b7280', '.md': '#083fa1', '.yaml': '#cb171e', '.yml': '#cb171e',\n        '.mdx': '#083fa1', '.tsx': '#3178c6', '.jsx': '#61dafb', '.sh': '#4eaa25',\n    }\n    lang_bars = \"\".join(\n        f'<div class=\"bar-row\"><span class=\"bar-label\">{ext}</span>'\n        f'<div class=\"bar\" style=\"width:{(size/total_size)*100}%;background:{colors.get(ext,\"#6b7280\")}\"></div>'\n        f'<span class=\"bar-pct\">{(size/total_size)*100:.1f}%</span></div>'\n        for ext, size in sorted_exts\n    )\n    def fmt(b):\n        if b < 1024: return f\"{b} B\"\n        if b < 1048576: return f\"{b/1024:.1f} KB\"\n        return f\"{b/1048576:.1f} MB\"\n    html = f'''<!DOCTYPE html>\n<html><head>\n  <meta charset=\"utf-8\"><title>Codebase Explorer</title>\n  <style>\n    body {{ font: 14px/1.5 system-ui, sans-serif; margin: 0; background: #1a1a2e; color: #eee; }}\n    .container {{ display: flex; height: 100vh; }}\n    .sidebar {{ width: 280px; background: #252542; padding: 20px; border-right: 1px solid #3d3d5c; overflow-y: auto; flex-shrink: 0; }}\n    .main {{ flex: 1; padding: 20px; overflow-y: auto; }}\n    h1 {{ margin: 0 0 10px 0; font-size: 18px; }}\n    h2 {{ margin: 20px 0 10px 0; font-size: 14px; color: #888; text-transform: uppercase; }}\n    .stat {{ display: flex; justify-content: space-between; padding: 8px 0; border-bottom: 1px solid #3d3d5c; }}\n    .stat-value {{ font-weight: bold; }}\n    .bar-row {{ display: flex; align-items: center; margin: 6px 0; }}\n    .bar-label {{ width: 55px; font-size: 12px; color: #aaa; }}\n    .bar {{ height: 18px; border-radius: 3px; }}\n    .bar-pct {{ margin-left: 8px; font-size: 12px; color: #666; }}\n    .tree {{ list-style: none; padding-left: 20px; }}\n    details {{ cursor: pointer; }}\n    summary {{ padding: 4px 8px; border-radius: 4px; }}\n    summary:hover {{ background: #2d2d44; }}\n    .folder {{ color: #ffd700; }}\n    .file {{ display: flex; align-items: center; padding: 4px 8px; border-radius: 4px; }}\n    .file:hover {{ background: #2d2d44; }}\n    .size {{ color: #888; margin-left: auto; font-size: 12px; }}\n    .dot {{ width: 8px; height: 8px; border-radius: 50%; margin-right: 8px; }}\n  </style>\n</head><body>\n  <div class=\"container\">\n    <div class=\"sidebar\">\n      <h1>üìä Summary</h1>\n      <div class=\"stat\"><span>Files</span><span class=\"stat-value\">{stats[\"files\"]:,}</span></div>\n      <div class=\"stat\"><span>Directories</span><span class=\"stat-value\">{stats[\"dirs\"]:,}</span></div>\n      <div class=\"stat\"><span>Total size</span><span class=\"stat-value\">{fmt(data[\"size\"])}</span></div>\n      <div class=\"stat\"><span>File types</span><span class=\"stat-value\">{len(stats[\"extensions\"])}</span></div>\n      <h2>By file type</h2>\n      {lang_bars}\n    </div>\n    <div class=\"main\">\n      <h1>üìÅ {data[\"name\"]}</h1>\n      <ul class=\"tree\" id=\"root\"></ul>\n    </div>\n  </div>\n  <script>\n    const data = {json.dumps(data)};\n    const colors = {json.dumps(colors)};\n    function fmt(b) {{ if (b < 1024) return b + ' B'; if (b < 1048576) return (b/1024).toFixed(1) + ' KB'; return (b/1048576).toFixed(1) + ' MB'; }}\n    function render(node, parent) {{\n      if (node.children) {{\n        const det = document.createElement('details');\n        det.open = parent === document.getElementById('root');\n        det.innerHTML = `<summary><span class=\"folder\">üìÅ ${{node.name}}</span><span class=\"size\">${{fmt(node.size)}}</span></summary>`;\n        const ul = document.createElement('ul'); ul.className = 'tree';\n        node.children.sort((a,b) => (b.children?1:0)-(a.children?1:0) || a.name.localeCompare(b.name));\n        node.children.forEach(c => render(c, ul));\n        det.appendChild(ul);\n        const li = document.createElement('li'); li.appendChild(det); parent.appendChild(li);\n      }} else {{\n        const li = document.createElement('li'); li.className = 'file';\n        li.innerHTML = `<span class=\"dot\" style=\"background:${{colors[node.ext]||'#6b7280'}}\"></span>${{node.name}}<span class=\"size\">${{fmt(node.size)}}</span>`;\n        parent.appendChild(li);\n      }}\n    }}\n    data.children.forEach(c => render(c, document.getElementById('root')));\n  </script>\n</body></html>'''\n    output.write_text(html)\nif __name__ == '__main__':\n    target = Path(sys.argv[1] if len(sys.argv) > 1 else '.').resolve()\n    stats = {\"files\": 0, \"dirs\": 0, \"extensions\": Counter(), \"ext_sizes\": Counter()}\n    data = scan(target, stats)\n    out = Path('codebase-map.html')\n    generate_html(data, stats, out)\n    print(f'Generated {out.absolute()}')\n    webbrowser.open(f'file://{out.absolute()}')\n```\nSee all 131 lines\nTo test, open Claude Code in any project and ask ‚ÄúVisualize this codebase.‚Äù Claude runs the script, generates `codebase-map.html`, and opens it in your browser. This pattern works for any visual output: dependency graphs, test coverage reports, API documentation, or database schema visualizations. The bundled script does the heavy lifting while Claude handles orchestration.\n##\n[‚Äã\n](#troubleshooting)\nTroubleshooting\n###\n[‚Äã\n](#skill-not-triggering)\nSkill not triggering\nIf Claude doesn‚Äôt use your skill when expected:\n1.  Check the description includes keywords users would naturally say\n2.  Verify the skill appears in `What skills are available?`\n3.  Try rephrasing your request to match the description more closely\n4.  Invoke it directly with `/skill-name` if the skill is user-invocable\n###\n[‚Äã\n](#skill-triggers-too-often)\nSkill triggers too often\nIf Claude uses your skill when you don‚Äôt want it:\n1.  Make the description more specific\n2.  Add `disable-model-invocation: true` if you only want manual invocation\n###\n[‚Äã\n](#claude-doesn‚Äôt-see-all-my-skills)\nClaude doesn‚Äôt see all my skills\nSkill descriptions are loaded into context so Claude knows what‚Äôs available. If you have many skills, they may exceed the character budget (default 15,000 characters). Run `/context` to check for a warning about excluded skills. To increase the limit, set the `SLASH_COMMAND_TOOL_CHAR_BUDGET` environment variable.\n##\n[‚Äã\n](#related-resources)\nRelated resources\n-   **[Subagents](https://code.claude.com/docs/en/sub-agents)**: delegate tasks to specialized agents\n-   **[Plugins](https://code.claude.com/docs/en/plugins)**: package and distribute skills with other extensions\n-   **[Hooks](https://code.claude.com/docs/en/hooks)**: automate workflows around tool events\n-   **[Memory](https://code.claude.com/docs/en/memory)**: manage CLAUDE.md files for persistent context\n-   **[Interactive mode](https://code.claude.com/docs/en/interactive-mode#built-in-commands)**: built-in commands and shortcuts\n-   **[Permissions](https://code.claude.com/docs/en/iam)**: control tool and skill access\nWas this page helpful?\nYesNo\n[Discover and install prebuilt plugins](https://code.claude.com/docs/en/discover-plugins)[Output styles](https://code.claude.com/docs/en/output-styles)\n‚åòI\n[Claude Code Docs home page![light logo](https://mintcdn.com/claude-code/o69F7a6qoW9vboof/logo/light.svg?fit=max&auto=format&n=o69F7a6qoW9vboof&q=85&s=536eade682636e84231afce2577f9509)![dark logo](https://mintcdn.com/claude-code/o69F7a6qoW9vboof/logo/dark.svg?fit=max&auto=format&n=o69F7a6qoW9vboof&q=85&s=0766b3221061e80143e9f300733e640b)](https://code.claude.com/docs)\n[x](https://x.com/AnthropicAI)[linkedin](https://www.linkedin.com/company/anthropicresearch)\nCompany\n[Anthropic](https://www.anthropic.com/company)[Careers](https://www.anthropic.com/careers)[Economic Futures](https://www.anthropic.com/economic-futures)[Research](https://www.anthropic.com/research)[News](https://www.anthropic.com/news)[Trust center](https://trust.anthropic.com/)[Transparency](https://www.anthropic.com/transparency)\nHelp and security\n[Availability](https://www.anthropic.com/supported-countries)[Status](https://status.anthropic.com/)[Support center](https://support.claude.com/)\nLearn\n[Courses](https://www.anthropic.com/learn)[MCP connectors](https://claude.com/partners/mcp)[Customer stories](https://www.claude.com/customers)[Engineering blog](https://www.anthropic.com/engineering)[Events](https://www.anthropic.com/events)[Powered by Claude](https://claude.com/partners/powered-by-claude)[Service partners](https://claude.com/partners/services)[Startups program](https://claude.com/programs/startups)\nTerms and policies\n[Privacy policy](https://www.anthropic.com/legal/privacy)[Disclosure policy](https://www.anthropic.com/responsible-disclosure-policy)[Usage policy](https://www.anthropic.com/legal/aup)[Commercial terms](https://www.anthropic.com/legal/commercial-terms)[Consumer terms](https://www.anthropic.com/legal/consumer-terms)",
  "timestamp": 1769205934832,
  "title": "Extend Claude with skills - Claude Code Docs"
}