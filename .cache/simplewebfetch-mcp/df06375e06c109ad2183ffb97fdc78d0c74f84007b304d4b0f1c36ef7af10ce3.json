{
  "url": "https://github.com/anthropics/claude-code/issues/11544",
  "markdown": "# [BUG] Hooks not loading from settings.json - /hooks shows \"No hooks configured yet\" despite valid configuration 路 Issue #11544 路 anthropics/claude-code 路 GitHub\n*By\n        anthropics\n*\n---\n[Skip to content](#start-of-content)\n## Navigation Menu\nToggle navigation\n[](https://github.com/)\n[Sign in](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fanthropics%2Fclaude-code%2Fissues%2F11544)\nAppearance settings\n-   Platform\n    -   AI CODE CREATION\n        -   [\n            GitHub CopilotWrite better code with AI\n            ](https://github.com/features/copilot)\n        -   [\n            GitHub SparkBuild and deploy intelligent apps\n            ](https://github.com/features/spark)\n        -   [\n            GitHub ModelsManage and compare prompts\n            ](https://github.com/features/models)\n        -   [\n            MCP RegistryNewIntegrate external tools\n            ](https://github.com/mcp)\n    -   DEVELOPER WORKFLOWS\n        -   [\n            ActionsAutomate any workflow\n            ](https://github.com/features/actions)\n        -   [\n            CodespacesInstant dev environments\n            ](https://github.com/features/codespaces)\n        -   [\n            IssuesPlan and track work\n            ](https://github.com/features/issues)\n        -   [\n            Code ReviewManage code changes\n            ](https://github.com/features/code-review)\n    -   APPLICATION SECURITY\n        -   [\n            GitHub Advanced SecurityFind and fix vulnerabilities\n            ](https://github.com/security/advanced-security)\n        -   [\n            Code securitySecure your code as you build\n            ](https://github.com/security/advanced-security/code-security)\n        -   [\n            Secret protectionStop leaks before they start\n            ](https://github.com/security/advanced-security/secret-protection)\n    -   EXPLORE\n        -   [Why GitHub](https://github.com/why-github)\n        -   [Documentation](https://docs.github.com)\n        -   [Blog](https://github.blog)\n        -   [Changelog](https://github.blog/changelog)\n        -   [Marketplace](https://github.com/marketplace)\n    [View all features](https://github.com/features)\n-   Solutions\n    -   BY COMPANY SIZE\n        -   [Enterprises](https://github.com/enterprise)\n        -   [Small and medium teams](https://github.com/team)\n        -   [Startups](https://github.com/enterprise/startups)\n        -   [Nonprofits](https://github.com/solutions/industry/nonprofits)\n    -   BY USE CASE\n        -   [App Modernization](https://github.com/solutions/use-case/app-modernization)\n        -   [DevSecOps](https://github.com/solutions/use-case/devsecops)\n        -   [DevOps](https://github.com/solutions/use-case/devops)\n        -   [CI/CD](https://github.com/solutions/use-case/ci-cd)\n        -   [View all use cases](https://github.com/solutions/use-case)\n    -   BY INDUSTRY\n        -   [Healthcare](https://github.com/solutions/industry/healthcare)\n        -   [Financial services](https://github.com/solutions/industry/financial-services)\n        -   [Manufacturing](https://github.com/solutions/industry/manufacturing)\n        -   [Government](https://github.com/solutions/industry/government)\n        -   [View all industries](https://github.com/solutions/industry)\n    [View all solutions](https://github.com/solutions)\n-   Resources\n    -   EXPLORE BY TOPIC\n        -   [AI](https://github.com/resources/articles?topic=ai)\n        -   [Software Development](https://github.com/resources/articles?topic=software-development)\n        -   [DevOps](https://github.com/resources/articles?topic=devops)\n        -   [Security](https://github.com/resources/articles?topic=security)\n        -   [View all topics](https://github.com/resources/articles)\n    -   EXPLORE BY TYPE\n        -   [Customer stories](https://github.com/customer-stories)\n        -   [Events & webinars](https://github.com/resources/events)\n        -   [Ebooks & reports](https://github.com/resources/whitepapers)\n        -   [Business insights](https://github.com/solutions/executive-insights)\n        -   [GitHub Skills](https://skills.github.com)\n    -   SUPPORT & SERVICES\n        -   [Documentation](https://docs.github.com)\n        -   [Customer support](https://support.github.com)\n        -   [Community forum](https://github.com/orgs/community/discussions)\n        -   [Trust center](https://github.com/trust-center)\n        -   [Partners](https://github.com/partners)\n-   Open Source\n    -   COMMUNITY\n        -   [\n            GitHub SponsorsFund open source developers\n            ](https://github.com/sponsors)\n    -   PROGRAMS\n        -   [Security Lab](https://securitylab.github.com)\n        -   [Maintainer Community](https://maintainers.github.com)\n        -   [Accelerator](https://github.com/accelerator)\n        -   [Archive Program](https://archiveprogram.github.com)\n    -   REPOSITORIES\n        -   [Topics](https://github.com/topics)\n        -   [Trending](https://github.com/trending)\n        -   [Collections](https://github.com/collections)\n-   Enterprise\n    -   ENTERPRISE SOLUTIONS\n        -   [\n            Enterprise platformAI-powered developer platform\n            ](https://github.com/enterprise)\n    -   AVAILABLE ADD-ONS\n        -   [\n            GitHub Advanced SecurityEnterprise-grade security features\n            ](https://github.com/security/advanced-security)\n        -   [\n            Copilot for BusinessEnterprise-grade AI features\n            ](https://github.com/features/copilot/copilot-business)\n        -   [\n            Premium SupportEnterprise-grade 24/7 support\n            ](https://github.com/premium-support)\n-   [Pricing](https://github.com/pricing)\nSearch or jump to...\n# Search code, repositories, users, issues, pull requests...\nSearch\nClear\n[Search syntax tips](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax)\n# Provide feedback\nWe read every piece of feedback, and take your input very seriously.\n Include my email address so I can be contacted\nCancel Submit feedback\n# Saved searches\n## Use saved searches to filter your results more quickly\nName\nQuery\nTo see all available qualifiers, see our [documentation](https://docs.github.com/search-github/github-code-search/understanding-github-code-search-syntax).\nCancel Create saved search\n[Sign in](https://github.com/login?return_to=https%3A%2F%2Fgithub.com%2Fanthropics%2Fclaude-code%2Fissues%2F11544)\n[Sign up](https://github.com/signup?ref_cta=Sign+up&ref_loc=header+logged+out&ref_page=%2F%3Cuser-name%3E%2F%3Crepo-name%3E%2Fvoltron%2Fissues_fragments%2Fissue_layout&source=header-repo&source_repo=anthropics%2Fclaude-code)\nAppearance settings\nResetting focus\nYou signed in with another tab or window. Reload to refresh your session. You signed out in another tab or window. Reload to refresh your session. You switched accounts on another tab or window. Reload to refresh your session. Dismiss alert\n[anthropics](https://github.com/anthropics) / **[claude-code](https://github.com/anthropics/claude-code)** Public\n-   [Notifications](https://github.com/login?return_to=%2Fanthropics%2Fclaude-code) You must be signed in to change notification settings\n-   [Fork 4.4k](https://github.com/login?return_to=%2Fanthropics%2Fclaude-code)\n-   [Star 59.5k](https://github.com/login?return_to=%2Fanthropics%2Fclaude-code)\n-   [Code](https://github.com/anthropics/claude-code)\n-   [Issues 5k+](https://github.com/anthropics/claude-code/issues)\n-   [Pull requests 141](https://github.com/anthropics/claude-code/pulls)\n-   [Actions](https://github.com/anthropics/claude-code/actions)\n-   [Security 14](https://github.com/anthropics/claude-code/security)\n-   [Insights](https://github.com/anthropics/claude-code/pulse)\nAdditional navigation options\n-   [Code](https://github.com/anthropics/claude-code)\n-   [Issues](https://github.com/anthropics/claude-code/issues)\n-   [Pull requests](https://github.com/anthropics/claude-code/pulls)\n-   [Actions](https://github.com/anthropics/claude-code/actions)\n-   [Security](https://github.com/anthropics/claude-code/security)\n-   [Insights](https://github.com/anthropics/claude-code/pulse)\n# \\[BUG\\] Hooks not loading from settings.json - /hooks shows \"No hooks configured yet\" despite valid configuration#11544\n[New issue](https://github.com/login?return_to=https://github.com/anthropics/claude-code/issues/11544)\nCopy link\n[New issue](https://github.com/login?return_to=https://github.com/anthropics/claude-code/issues/11544)\nCopy link\nOpen\nOpen\n[\\[BUG\\] Hooks not loading from settings.json - /hooks shows \"No hooks configured yet\" despite valid configuration](#top)#11544\nCopy link\nLabels\n[area:core](https://github.com/anthropics/claude-code/issues?q=state%3Aopen%20label%3A%22area%3Acore%22)[bugSomething isn't working](https://github.com/anthropics/claude-code/issues?q=state%3Aopen%20label%3A%22bug%22)Something isn't working[has reproHas detailed reproduction steps](https://github.com/anthropics/claude-code/issues?q=state%3Aopen%20label%3A%22has%20repro%22)Has detailed reproduction steps[platform:macosIssue specifically occurs on macOS](https://github.com/anthropics/claude-code/issues?q=state%3Aopen%20label%3A%22platform%3Amacos%22)Issue specifically occurs on macOS\n[![@bgbg](https://avatars.githubusercontent.com/u/506547?v=4&size=80)](https://github.com/bgbg)\n## Description\n[![@bgbg](https://avatars.githubusercontent.com/u/506547?v=4&size=48)](https://github.com/bgbg)\n[bgbg](https://github.com/bgbg)\nopened [on Nov 13, 2025](https://github.com/anthropics/claude-code/issues/11544#issue-3620479714)\nIssue body actions\n### Preflight Checklist\n-   [x]  I have searched [existing issues](https://github.com/anthropics/claude-code/issues?q=is%3Aissue%20state%3Aopen%20label%3Abug) and this hasn't been reported yet\n-   [x]  This is a single bug report (please file separate reports for different bugs)\n-   [x]  I am using the latest version of Claude Code\n### What's Wrong?\nHooks defined in `~/.claude/settings.json` are not being loaded by Claude Code. The `/hooks` command shows \"No hooks configured yet\" despite having valid hook configurations in the settings file, and debug logs confirm that Claude Code is finding 0 hook matchers when it should be loading the\nconfigured hooks.\nEnvironment\n-   Claude Code Version: 2.0.37\n-   Platform: macOS (Darwin 24.6.0)\n-   Installation: npm-global\nConfiguration\nMy `~/.claude/settings.json` contains the following hooks configuration:\n```json\n  {\n    \"hooks\": {\n      \"Stop\": [\n        {\n          \"hooks\": [\n            {\n              \"type\": \"command\",\n              \"command\": \"afplay -v 5 /System/Library/Sounds/Funk.aiff\"\n            }\n          ]\n        }\n      ],\n      \"Notification\": [\n        {\n          \"hooks\": [\n            {\n              \"type\": \"command\",\n              \"command\": \"afplay -v 5 /System/Library/Sounds/Pop.aiff\"\n            }\n          ]\n        }\n      ]\n    },\n    \"alwaysThinkingEnabled\": false,\n    \"feedbackSurveyState\": {\n      \"lastShownTime\": 1754057465609\n    },\n    \"mcpServers\": {\n    },\n    \"permissions\": {\n      \"allow\": [\n        \"Bash(python*)\",\n        \"Bash(python3:*)\",\n        \"Bash(gh_issue_create:*)\",\n        \"Bash(find:*)\",\n        \"Bash(pbcopy)\",\n        \"Bash(open_http*)\",\n        \"Bash(git:*)\",\n        \"Bash(gh:*)\",\n        \"Bash(uvicorn:*)\",\n        \"Bash(chmod:*)\",\n        \"Bash(echo:*)\",\n        \"Bash(pkill:*)\",\n        \"Bash(pytest:*)\",\n        \"Bash(docker-compose:*)\",\n        \"Bash(docker:*)\",\n        \"Bash(env)\",\n        \"Bash(pip_install:*)\",\n        \"Bash(cat:*)\",\n        \"Bash(awk:*)\"\n      ],\n      \"deny\": [],\n      \"ask\": []\n    }\n  }\n```\nThe JSON is valid (verified with python3 -m json.tool).\nSteps to Reproduce\n1.  Create hooks configuration in ~/.claude/settings.json as shown above\n2.  Start Claude Code with debug mode: claude --debug\n3.  Run the /hooks command\n4.  Complete a task to trigger the Stop hook\n### What Should Happen?\nExpected Behavior\n-   The /hooks command should display the configured Stop and Notification hooks\n-   The Stop hook should execute (playing a sound) when Claude finishes responding\n-   Debug logs should show hooks being loaded from settings\nActual Behavior\n-   The /hooks command shows \"No hooks configured yet\"\n-   The Stop hook never executes (no sound plays)\n-   Debug logs show: \\[DEBUG\\] Found 0 hook matchers in settings\nDebug Log Evidence\n```\n  From the debug log at ~/.claude/debug/d46cbf9a-6474-4717-881d-05bc05025a37.txt:\n  [DEBUG] Watching for changes in setting files /Users/boris/.claude/settings.json...\n  ...\n  [DEBUG] Getting matching hook commands for SessionStart with query: startup\n  [DEBUG] Found 0 hook matchers in settings\n  [DEBUG] Matched 0 unique hooks for query \"startup\" (0 before deduplication)\n  ...\n  [DEBUG] Getting matching hook commands for SubagentStop with query: undefined\n  [DEBUG] Found 0 hook matchers in settings\n  [DEBUG] Matched 0 unique hooks for query \"no match query\" (0 before deduplication)\n```\nThe debug log explicitly shows that Claude Code is watching the settings.json file but finding 0 hook matchers despite the hooks being defined in the file.\nAdditional Context\n-   The hooks configuration structure follows the documentation at [https://code.claude.com/docs/en/hooks.md](https://code.claude.com/docs/en/hooks.md)\n-   There is no project-level .claude/settings.json that could be overriding the global settings\n-   The settings.json file is being monitored (shown in debug logs)\n-   Other settings from the same file (mcpServers, permissions) are loading correctly\n-   The hook commands work when executed manually (e.g., afplay -v 5 /System/Library/Sounds/Funk.aiff plays sound successfully)\n### Error Messages/Logs\n```shell\nFrom the debug log at ~/.claude/debug/d46cbf9a-6474-4717-881d-05bc05025a37.txt:\n  [DEBUG] Watching for changes in setting files /Users/boris/.claude/settings.json...\n  ...\n  [DEBUG] Getting matching hook commands for SessionStart with query: startup\n  [DEBUG] Found 0 hook matchers in settings\n  [DEBUG] Matched 0 unique hooks for query \"startup\" (0 before deduplication)\n  ...\n  [DEBUG] Getting matching hook commands for SubagentStop with query: undefined\n  [DEBUG] Found 0 hook matchers in settings\n  [DEBUG] Matched 0 unique hooks for query \"no match query\" (0 before deduplication)\n```\n### Steps to Reproduce\n1.  update the settings with my config\n2.  start a new claude session\n3.  run a command\n### Claude Model\nSonnet (default)\n### Is this a regression?\nYes, this worked in a previous version\n### Last Working Version\n_No response_\n### Claude Code Version\n2.0.37 (Claude Code)\n### Platform\nAnthropic API\n### Operating System\nmacOS\n### Terminal/Shell\niTerm2\n### Additional Information\n_No response_\nReact with 3damianpolan, Max-Makhrov and jonathanabilaわReact with わ2Tsuchiya2 and cmungallReact with 1Tsuchiya2\n## Metadata\n## Metadata\n### Assignees\nNo one assigned\n### Labels\n[area:core](https://github.com/anthropics/claude-code/issues?q=state%3Aopen%20label%3A%22area%3Acore%22)[bugSomething isn't working](https://github.com/anthropics/claude-code/issues?q=state%3Aopen%20label%3A%22bug%22)Something isn't working[has reproHas detailed reproduction steps](https://github.com/anthropics/claude-code/issues?q=state%3Aopen%20label%3A%22has%20repro%22)Has detailed reproduction steps[platform:macosIssue specifically occurs on macOS](https://github.com/anthropics/claude-code/issues?q=state%3Aopen%20label%3A%22platform%3Amacos%22)Issue specifically occurs on macOS\n### Type\nNo type\n### Projects\nNo projects\n### Milestone\nNo milestone\n### Relationships\nNone yet\n### Development\nNo branches or pull requests\n## Issue actions\n## Footer\n[](https://github.com)漏 2026 GitHub,Inc.\n### Footer navigation\n-   [Terms](https://docs.github.com/site-policy/github-terms/github-terms-of-service)\n-   [Privacy](https://docs.github.com/site-policy/privacy-policies/github-privacy-statement)\n-   [Security](https://github.com/security)\n-   [Status](https://www.githubstatus.com/)\n-   [Community](https://github.community/)\n-   [Docs](https://docs.github.com/)\n-   [Contact](https://support.github.com?tags=dotcom-footer)\n-   Manage cookies\n-   Do not share my personal information\nYou cant perform that action at this time.",
  "timestamp": 1769140298149,
  "title": "[BUG] Hooks not loading from settings.json - /hooks shows \"No hooks configured yet\" despite valid configuration 路 Issue #11544 路 anthropics/claude-code 路 GitHub"
}